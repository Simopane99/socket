import socket
import json

SERVER_IP = "127.0.0.1"
SERVER_PORT = 5005
BUFFER_SIZE = 1024

sock = socket.socket(socket.AF_INET, socket.SOCK_DGRAM)

while True:
    primoNumero= float(input("inserisci il primo nuemero: "))
    primoNumero= input("inserisci l'operazione (simbolo): ")
    secondoNumero= float(input("inserisci il secondo nuemero: "))
    messaggio= {"primoNumero":primoNumero,
                "operazione":operazione,
                "secondoNumero":secondoNumero}
    message = json.dumps(messaggio)
    sock.sendto(message.encode(UTF-8), (SERVER_IP, SERVER_PORT))

    data, _ = sock.recvfrom(BUFFER_SIZE)
    response = json.loads(data.decode())

    if "result" in response:
        print("Risultato:", response["result"])
    else:
        print("Errore:", response["error"])

sock.close()
